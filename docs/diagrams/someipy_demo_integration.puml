@startuml someipy_demo_integration
skinparam componentStyle uml2

package "External World (someipy)" {
    [service_someipy.py] as ExtService
    [someipy/daemon] as Daemon
    
    note right of ExtService
        Uses 'someipy' library
        Manually implements Service
    end note
}

package "Fusion World" {
    [client_fusion.py] as PyClient
    [client_fusion.cpp] as CppClient
    [client_fusion.rs] as RustClient
    
    note right of PyClient
        Uses Fusion Runtime
    end note
}

package "Shared Definitions" {
    [common_ids.py] as CommonIDs
    note right of CommonIDs
        Simulates IDL
        Defines:
        - LISTENER_SERVICE_ID = 0x1234
        - METHOD_ECHO = 0x0001
    end note
}

package "Configuration" {
    [client_config.json] as FusionConfig
    [someipyd_config.json] as DaemonConfig
}

' Relationships
CommonIDs --> ExtService : Imports IDs
CommonIDs --> PyClient : Imports IDs
CommonIDs --> CppClient : Manual ID Sync
CommonIDs --> RustClient : Manual ID Sync

DaemonConfig --> Daemon : Configures
FusionConfig --> PyClient : Configures
FusionConfig --> CppClient : Configures
FusionConfig --> RustClient : Configures

ExtService <--> Daemon : SD Offer
PyClient <--> Daemon : SD Find
CppClient <--> Daemon : SD Find
RustClient <--> Daemon : SD Find

@enduml
